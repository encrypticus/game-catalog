{"ast":null,"code":"import _regeneratorRuntime from \"D:/MyProjects/game-catalog/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/MyProjects/game-catalog/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:/MyProjects/game-catalog/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _defineProperty from \"D:/MyProjects/game-catalog/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { API_KEY } from '../constants/api-key';\nimport { getQueryString } from './query-string';\n\nvar RawgConnector = function RawgConnector() {\n  var _this = this;\n\n  _classCallCheck(this, RawgConnector);\n\n  _defineProperty(this, \"_gameURL\", 'https://api.rawg.io/api/games');\n\n  _defineProperty(this, \"_platformURL\", 'https://api.rawg.io/api/platforms');\n\n  _defineProperty(this, \"getGamesData\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _ref2,\n        search,\n        options,\n        queryString,\n        response,\n        message,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _ref2 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {\n              search: '',\n              options: {}\n            }, search = _ref2.search, options = _ref2.options;\n            queryString = getQueryString(options);\n            _context.prev = 2;\n            _context.next = 5;\n            return fetch(\"\".concat(_this._gameURL, \"?key=\").concat(API_KEY).concat(queryString));\n\n          case 5:\n            response = _context.sent;\n            _context.next = 8;\n            return response.json();\n\n          case 8:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](2);\n            message = _context.t0.message;\n            console.log(message);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 11]]);\n  })));\n\n  _defineProperty(this, \"getGameData\", /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(slug) {\n      var response, message;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return fetch(\"\".concat(_this._gameURL, \"/\").concat(slug));\n\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return response.json();\n\n            case 6:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              message = _context2.t0.message;\n              console.log(message);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n\n    return function (_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"getPlatformsData\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var response, message;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return fetch(_this._platformURL);\n\n          case 3:\n            response = _context3.sent;\n            _context3.next = 6;\n            return response.json();\n\n          case 6:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](0);\n            message = _context3.t0.message;\n            console.log(message);\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 9]]);\n  })));\n};\n\nexport { RawgConnector as default };\nexport var rawgConnector = new RawgConnector();","map":{"version":3,"sources":["D:/MyProjects/game-catalog/utils/rawg-connector.js"],"names":["API_KEY","getQueryString","RawgConnector","search","options","queryString","fetch","_gameURL","response","json","message","console","log","slug","_platformURL","rawgConnector"],"mappings":";;;;AAAA,SAASA,OAAT,QAAwB,sBAAxB;AACA,SAASC,cAAT,QAA+B,gBAA/B;;IAEqBC,a;;;;;oCACR,+B;;wCACI,mC;;8GAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,4EAA6B;AAAEC,cAAAA,MAAM,EAAE,EAAV;AAAcC,cAAAA,OAAO,EAAE;AAAvB,aAA7B,EAASD,MAAT,SAASA,MAAT,EAAiBC,OAAjB,SAAiBA,OAAjB;AACPC,YAAAA,WADO,GACOJ,cAAc,CAACG,OAAD,CADrB;AAAA;AAAA;AAAA,mBAGYE,KAAK,WAAI,KAAI,CAACC,QAAT,kBAAyBP,OAAzB,SAAmCK,WAAnC,EAHjB;;AAAA;AAGLG,YAAAA,QAHK;AAAA;AAAA,mBAIEA,QAAQ,CAACC,IAAT,EAJF;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKFC,YAAAA,OALE,eAKFA,OALE;AAMXC,YAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AANW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;yEAUD,kBAAMG,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEaP,KAAK,WAAI,KAAI,CAACC,QAAT,cAAqBM,IAArB,EAFlB;;AAAA;AAEJL,cAAAA,QAFI;AAAA;AAAA,qBAGGA,QAAQ,CAACC,IAAT,EAHH;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIDC,cAAAA,OAJC,gBAIDA,OAJC;AAKVC,cAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AALU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;kHASK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEQJ,KAAK,CAAC,KAAI,CAACQ,YAAN,CAFb;;AAAA;AAETN,YAAAA,QAFS;AAAA;AAAA,mBAGFA,QAAQ,CAACC,IAAT,EAHE;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAINC,YAAAA,OAJM,gBAINA,OAJM;AAKfC,YAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;;AALe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;SAvBAR,a;AAiCrB,OAAO,IAAMa,aAAa,GAAG,IAAIb,aAAJ,EAAtB","sourcesContent":["import { API_KEY } from '../constants/api-key';\r\nimport { getQueryString } from './query-string';\r\n\r\nexport default class RawgConnector {\r\n  _gameURL = 'https://api.rawg.io/api/games';\r\n  _platformURL = 'https://api.rawg.io/api/platforms';\r\n\r\n  getGamesData = async ({ search, options } = { search: '', options: {} }) => {\r\n    const queryString = getQueryString(options);\r\n    try {\r\n      const response = await fetch(`${this._gameURL}?key=${API_KEY}${queryString}`);\r\n      return await response.json();\r\n    } catch ({ message }) {\r\n      console.log(message);\r\n    }\r\n  };\r\n\r\n  getGameData = async(slug) => {\r\n    try {\r\n      const response = await fetch(`${this._gameURL}/${slug}`);\r\n      return await response.json();\r\n    } catch ({ message }) {\r\n      console.log(message);\r\n    }\r\n  };\r\n\r\n  getPlatformsData = async () => {\r\n    try {\r\n      const response = await fetch(this._platformURL);\r\n      return await response.json();\r\n    } catch ({ message }) {\r\n      console.log(message);\r\n    }\r\n  };\r\n}\r\n\r\nexport const rawgConnector = new RawgConnector();\r\n"]},"metadata":{},"sourceType":"module"}